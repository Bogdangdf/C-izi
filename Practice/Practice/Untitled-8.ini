import pandas as pd

file_name = "students.csv"

try:
    df = pd.read_csv(file_name)
except FileNotFoundError:
    students = []
    n = int(input("Введіть кількість студентів у групі: "))

    i = 0
    while i < n:
        print("\nСтудент", i + 1)
        name = input("Ім’я: ")
        surname = input("Прізвище: ")

        grades = []
        j = 0
        while j < 5:
            grade = float(input(f"Оцінка з дисципліни {j + 1}: "))
            grades.append(grade)
            j += 1

        students.append([
            name,
            surname,
            grades[0],
            grades[1],
            grades[2],
            grades[3],
            grades[4]
        ])
        i += 1

    df = pd.DataFrame(
        students,
        columns=[
            "Ім’я",
            "Прізвище",
            "Дисципліна 1",
            "Дисципліна 2",
            "Дисципліна 3",
            "Дисципліна 4",
            "Дисципліна 5"
        ]
    )

    df.to_csv(file_name, index=False)

df["Середній бал"] = df.iloc[:, 2:7].mean(axis=1)

print("\nТаблиця середніх балів студентів:")
print(df[["Ім’я", "Прізвище", "Середній бал"]])

group_avg = df.iloc[:, 2:7].mean()

print("\nСередній бал групи з кожної дисципліни:")
i = 0
for value in group_avg:
    print("Дисципліна", i + 1, "->", value)
    i += 1
